/* public/css/material-custom.css */

/* Global Button Shape Customization (4dp radius) - KEEP THIS */
md-filled-button {
    --md-filled-button-container-shape: var(--md-sys-shape-corner-extra-small);
}
md-outlined-button {
    --md-outlined-button-container-shape: var(--md-sys-shape-corner-extra-small);
}
md-text-button {
    --md-text-button-container-shape: var(--md-sys-shape-corner-extra-small);
}

/* MD3 Color System Tokens - Light Theme (Default) */
:root {
    /* Primary (Example: Blue) */
    --md-sys-color-primary: #0061A4;
    --md-sys-color-on-primary: #FFFFFF;
    --md-sys-color-primary-container: #D1E4FF;
    --md-sys-color-on-primary-container: #001D36;

    /* Secondary (Example: Muted Blue/Purple) */
    --md-sys-color-secondary: #525E7D;
    --md-sys-color-on-secondary: #FFFFFF;
    --md-sys-color-secondary-container: #D9E2FF;
    --md-sys-color-on-secondary-container: #0F1B37;

    /* Tertiary (Example: Muted Purple/Pink) */
    --md-sys-color-tertiary: #6A5474;
    --md-sys-color-on-tertiary: #FFFFFF;
    --md-sys-color-tertiary-container: #F2D8FD;
    --md-sys-color-on-tertiary-container: #25122E;

    /* Error */
    --md-sys-color-error: #B3261E;
    --md-sys-color-on-error: #FFFFFF;
    --md-sys-color-error-container: #F9DEDC;
    --md-sys-color-on-error-container: #410E0B;

    /* Surface & Background */
    --md-sys-color-surface: #FCFCFF; /* Slightly off-white */
    --md-sys-color-on-surface: #1A1C1E;
    --md-sys-color-surface-variant: #DFE2EB;
    --md-sys-color-on-surface-variant: #42474E;
    --md-sys-color-background: #FCFCFF;
    --md-sys-color-on-background: #1A1C1E;

    /* Outline */
    --md-sys-color-outline: #73777F;
    --md-sys-color-outline-variant: #C2C6CF;

    /* Inverse (for dark elements on light surface, e.g. snackbar) */
    --md-sys-color-inverse-surface: #2F3033;
    --md-sys-color-inverse-on-surface: #F1F0F4;
    --md-sys-color-inverse-primary: #A0C9FF; /* Light blue for primary on dark surface */

    /* Shadow & Scrim */
    --md-sys-color-shadow: #000000; /* Usually applied with opacity */
    --md-sys-color-scrim: #000000; /* Usually applied with opacity */
}

/* MD3 Color System Tokens - Dark Theme */
/* Apply by adding class="dark-theme" to html or body tag */
.dark-theme { /* Or [data-theme="dark"] */
    /* Primary (Example: Light Blue for Dark Theme) */
    --md-sys-color-primary: #A0C9FF;
    --md-sys-color-on-primary: #003258;
    --md-sys-color-primary-container: #00497D;
    --md-sys-color-on-primary-container: #D1E4FF;

    /* Secondary (Example: Light Muted Blue/Purple) */
    --md-sys-color-secondary: #B9C6EA;
    --md-sys-color-on-secondary: #24304D;
    --md-sys-color-secondary-container: #3B4764;
    --md-sys-color-on-secondary-container: #D9E2FF;

    /* Tertiary (Example: Light Muted Purple/Pink) */
    --md-sys-color-tertiary: #D6BEE0;
    --md-sys-color-on-tertiary: #3B2744;
    --md-sys-color-tertiary-container: #523D5B;
    --md-sys-color-on-tertiary-container: #F2D8FD;

    /* Error */
    --md-sys-color-error: #FFB4AB;
    --md-sys-color-on-error: #690005;
    --md-sys-color-error-container: #93000A;
    --md-sys-color-on-error-container: #FFDAD6;

    /* Surface & Background */
    --md-sys-color-surface: #1A1C1E; /* Dark Gray */
    --md-sys-color-on-surface: #E2E2E6;
    --md-sys-color-surface-variant: #42474E;
    --md-sys-color-on-surface-variant: #C2C6CF;
    --md-sys-color-background: #1A1C1E;
    --md-sys-color-on-background: #E2E2E6;

    /* Outline */
    --md-sys-color-outline: #8C9199;
    --md-sys-color-outline-variant: #42474E;

    /* Inverse (for light elements on dark surface) */
    --md-sys-color-inverse-surface: #E2E2E6;
    --md-sys-color-inverse-on-surface: #2F3033;
    --md-sys-color-inverse-primary: #0061A4; /* Dark blue for primary on light surface */
}

/* MD3 Typography System Tokens */
/* Material Web's md-typescale-styles.js already provides default MD3 typography. */
/* These tokens can be overridden here if specific customizations are needed. */
/* Example (uncomment to override):
:root {
    --md-sys-typescale-headline-large-font-family: 'YourCustomHeadlineFont, Roboto Flex', sans-serif;
    --md-sys-typescale-headline-large-font-weight: 700;
    --md-sys-typescale-headline-large-font-size: 2rem;

    --md-sys-typescale-body-medium-font-family: 'YourCustomBodyFont, Roboto', sans-serif;
    --md-sys-typescale-body-medium-font-size: 1rem;
    --md-sys-typescale-body-medium-line-height: 1.5;
}
*/

/* For dark theme specific typography, if needed (though usually typescale is same, only colors change)
.dark-theme {
    Example:
    --md-sys-typescale-body-medium-font-weight: 300; // Lighter font weight for dark mode
}
*/

/* MD3 Shape System Tokens */
:root {
    --md-sys-shape-corner-none: 0px;
    --md-sys-shape-corner-extra-small: 4px; /* Used for buttons */
    --md-sys-shape-corner-small: 8px;
    --md-sys-shape-corner-medium: 12px; /* Often default for cards, dialogs */
    --md-sys-shape-corner-large: 16px;
    --md-sys-shape-corner-extra-large: 28px;
    --md-sys-shape-corner-full: 9999px; /* A large value for full rounding */
}

/* Example usage for MWC components (actual property names might vary per component):
md-dialog {
    --md-dialog-container-shape: var(--md-sys-shape-corner-medium);
}

md-outlined-text-field {
    /* Text fields often use smaller corner radii by default,
       but can be themed if they expose a shape property.
       E.g., if a property like --md-outlined-field-container-shape exists:
    */
    /* --md-outlined-field-container-shape: var(--md-sys-shape-corner-small); */
}
*/

/* Example usage for custom elements styled with MD3 principles:
.custom-md3-card {
    border-radius: var(--md-sys-shape-corner-medium);
    background-color: var(--md-sys-color-surface-container-low); /* Example surface */
    padding: 16px;
}
*/

/* MD3 Elevation (Shadow) System Tokens */
/* These are simplified examples. True MD3 shadows are more complex (often two shadows). */
/* See https://m3.material.io/styles/elevation/tokens */
:root {
    /* Default color for shadows, usually black with some alpha */
    --md-sys-shadow-color: rgba(0, 0, 0, 0.2); /* Example */

    --md-sys-elevation-level0: none;
    --md-sys-elevation-level1: 0px 1px 3px 1px var(--md-sys-shadow-color); /* Example shadow */
    --md-sys-elevation-level2: 0px 2px 6px 2px var(--md-sys-shadow-color); /* Example shadow */
    --md-sys-elevation-level3: 0px 4px 8px 3px var(--md-sys-shadow-color), 0px 1px 3px 1px var(--md-sys-shadow-color); /* Example layered shadow */
    --md-sys-elevation-level4: 0px 6px 10px 4px var(--md-sys-shadow-color), 0px 2px 3px 1px var(--md-sys-shadow-color); /* Example layered shadow */
    --md-sys-elevation-level5: 0px 8px 12px 6px var(--md-sys-shadow-color), 0px 4px 4px 2px var(--md-sys-shadow-color); /* Example layered shadow */
}

/* Example usage for MWC components or custom elements:
md-dialog {
    box-shadow: var(--md-sys-elevation-level3); /* Dialogs often use level 3 */
    /* Note: MWC components like md-dialog might already apply their own elevation
               based on internal tokens. This is for overriding or for custom elements. */
}

.custom-md3-card-elevated {
    border-radius: var(--md-sys-shape-corner-medium);
    background-color: var(--md-sys-color-surface-container-low);
    padding: 16px;
    box-shadow: var(--md-sys-elevation-level1); /* Applying level 1 shadow */
}

/* Some MWC components might use specific properties like --md-fab-container-elevation for FABs */
/* md-fab { --md-fab-container-elevation: var(--md-sys-elevation-level3); } */

/* MD3 Button Touch Target Sizings */
/* Ensure buttons have a minimum height to meet 48dp touch target guidelines.
   MWC buttons usually handle this well, but explicit min-height can be a safeguard,
   especially for text or icon buttons if their content is small.
   Note: MWC components might have their own height/padding variables that are better to use if available.
   This is a general approach.
*/
md-filled-button,
md-outlined-button,
md-text-button,
md-elevated-button,
md-icon-button {
    min-height: 40px; /* Standard MWC button height is often 40px.
                         The 48dp touch target includes padding the component might add
                         or that the browser provides for interaction.
                         Setting min-height directly on the component ensures visual size.
                         Let's use 40px as a common visual height for MD buttons.
                         The actual touch area is often larger.
                      */
    /* We could also set min-width for some button types if they can get too narrow,
       but height is generally more critical for lists of actions. */
}

/* For FABs, their size is usually well-defined by their type (standard, mini, extended) */
/* md-fab { ... } */

/* MD3 Button Interaction States Styling (Hover, Focus, Pressed, Disabled) */
/* Material Web Components (MWC) have built-in styling for these states,
   which generally adhere to MD3 guidelines and utilize the color tokens
   defined in the :root or .dark-theme scopes (e.g., --md-sys-color-primary).

   Key principles:
   - State Layers: Hover, focus, and pressed states often apply semi-transparent
     overlays ("state layers"). The color of these layers is typically derived
     from the 'on-<container>' color (e.g., for a primary button, the state
     layer color might be --md-sys-color-on-primary).
   - Opacity: Disabled states usually involve reducing the opacity of the button
     background and text content.
   - Ripple: Pressed states include a ripple effect, also themed with appropriate colors.

   Example MWC token usage for state layers (actual tokens might be internal to components):
   --md-<component>-hover-state-layer-color
   --md-<component>-hover-state-layer-opacity (e.g., 0.08 for 8%)
   --md-<component>-focus-state-layer-color
   --md-<component>-focus-state-layer-opacity (e.g., 0.12 for 12%)
   --md-<component>-pressed-state-layer-color
   --md-<component>-pressed-state-layer-opacity (e.g., 0.12 for 12%)

   Disabled state opacity might be controlled by tokens like:
   --md-<component>-disabled-container-opacity (e.g., 0.12)
   --md-<component>-disabled-label-text-opacity (e.g., 0.38)

   If deeper customization of these states is needed beyond what the base
   components offer through their direct CSS custom properties (like those for
   container color, label color, shape), it might require more specific CSS
   overrides, potentially targeting internal parts of the web components if accessible.
   However, the goal is to rely on the built-in MWC theming as much as possible.
*/

/* MD3 Top App Bar Styles */
.md3-top-app-bar {
    display: flex;
    align-items: center;
    justify-content: space-between; /* Adjust as needed if title is centered */
    height: 64px; /* MD3 Small Top App Bar height */
    padding: 0 4px 0 16px; /* Left padding for nav icon, right for actions */
    background-color: var(--md-sys-color-surface); /* Initial background */
    color: var(--md-sys-color-on-surface);
    box-sizing: border-box;
    /* Position fixed at the top */
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 1050; /* Ensure it's above other content but potentially below dialogs/modals */
    transition: background-color 0.3s ease-in-out;
}

.md3-top-app-bar .leading-icon md-icon-button,
.md3-top-app-bar .trailing-icons md-icon-button {
    /* MWC icon buttons are already 48x48 touch target with 24px icon */
    color: var(--md-sys-color-on-surface-variant); /* Or on-surface */
}

.md3-top-app-bar .leading-icon {
    margin-right: 12px; /* Space between nav icon and title */
}

.md3-top-app-bar .headline {
    /* MD3 Title Large typography */
    font-family: var(--md-sys-typescale-title-large-font-family, Roboto, sans-serif);
    font-size: var(--md-sys-typescale-title-large-font-size, 22px);
    font-weight: var(--md-sys-typescale-title-large-font-weight, 400);
    line-height: var(--md-sys-typescale-title-large-line-height, 28px);
    flex-grow: 1;
    text-decoration: none; /* If it's a link */
    color: var(--md-sys-color-on-surface); /* Ensure headline color */
}

.md3-top-app-bar .trailing-icons {
    display: flex;
    align-items: center;
    padding-right: 12px; /* Space from edge if actions are present */
}

.md3-top-app-bar-scrolled {
    /* Use a surface color that indicates elevation or scrolling.
       Using surface-container as an example.
       Actual MD3 guidelines might use surface-tint with elevation overlay.
       For simplicity, we'll use a slightly different surface color.
    */
    background-color: var(--md-sys-color-surface-container-low, #F0F0F0); /* Fallback if token not defined */
    /* Optionally, if the text color needs to adjust for contrast:
    color: var(--md-sys-color-on-surface-variant);
    .md3-top-app-bar-scrolled .headline,
    .md3-top-app-bar-scrolled .leading-icon md-icon-button,
    .md3-top-app-bar-scrolled .trailing-icons md-icon-button {
        color: var(--md-sys-color-on-surface-variant);
    }
    */
}

/* Account for fixed Top App Bar height */
.page-wrapper {
    padding-top: 64px;
}

/* MD3 Navigation Drawer (Sidebar) Styles */
.sidebar { /* This is our <aside class="sidebar"> */
    /* Ensure it uses an MD3 surface color */
    /* background-color: var(--md-sys-color-surface-container-low, #F5F5F5); /* Example: This was in the prompt, but step 17 used --md-sys-color-surface. Let's stick to --md-sys-color-surface for consistency with top app bar or use a specific drawer token if available. */
    /* For now, the background-color is already set to var(--md-sys-color-surface) from previous step in style.css, which is fine. */

    /* On mobile, it acts as a modal drawer.
       Ensure proper width (e.g., max-width as per MD3, often around 280dp-320dp)
       and that it has an appropriate shadow when open.
       The existing `transform: translateX(-100%)` and `transform: translateX(0)` for open/close
       is good for modal behavior.
    */
    /* box-shadow is already var(--md-sys-elevation-level1) from previous step in style.css */
}

/* Styling for the scrim/overlay shown when modal drawer is open */
.sidebar-overlay {
    /* MD3 scrim color and opacity */
    background-color: var(--md-sys-color-scrim, rgba(0,0,0,0.4)); /* Default if token not set */
    /* Ensure transition for opacity matches sidebar transition */
    transition: opacity 0.3s ease-in-out; /* Matches sidebar transition */
    /* Ensure it's below drawer (z-index: 1025) but above main content */
}

/* Refinements for md-list within the drawer for better MD3 alignment if needed */
.sidebar md-list {
    padding-top: 8px; /* Example: Add some padding at the top of the list */
    padding-bottom: 8px;
     --md-list-container-color: transparent; /* Already set, ensure it stays */
}

.sidebar md-list-item {
    /* Ensure active/selected item styling is clear and MD3 compliant */
    /* MWC md-list-item uses --md-list-item-active-indicator-color, etc.
       These should pick up --md-sys-color-secondary-container and on-secondary-container by default.
       We can override if needed.
    */
    /* Example override for active item (if defaults aren't sufficient):
    &[activated] {
        --md-list-item-label-text-color: var(--md-sys-color-on-secondary-container);
        --md-list-item-container-color: var(--md-sys-color-secondary-container);
        --md-list-item-leading-icon-color: var(--md-sys-color-on-secondary-container);
    }
    */
}

/* MD3 Site Footer Styles */
.site-footer {
    margin-top: 48px; /* Example MD3 spacing (e.g., 3rem ~ 48px) */
    padding: 24px 16px; /* Example MD3 spacing */
    background-color: var(--md-sys-color-surface-container, #F0F0F0); /* MD3 surface */
    color: var(--md-sys-color-on-surface-variant, #44474E); /* MD3 on-surface variant */
    text-align: center;
    border-top: 1px solid var(--md-sys-color-outline-variant, #CAC4D0); /* MD3 outline */
}

.site-footer p {
    /* Use MD3 typography tokens if specific scale is desired, e.g., body-small */
    font-family: var(--md-sys-typescale-body-small-font-family, Roboto, sans-serif);
    font-size: var(--md-sys-typescale-body-small-font-size, 0.75rem); /* 12sp */
    line-height: var(--md-sys-typescale-body-small-line-height, 1rem); /* 16sp */
    font-weight: var(--md-sys-typescale-body-small-font-weight, 400);
    margin-bottom: 0; /* Keep as is, or adjust to MD3 paragraph spacing if needed */
}
